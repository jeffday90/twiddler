<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <link rel="stylesheet" type="text/css" href="stylesheet.css">
  </head>
  <body>
    <header>
          <h2>Twiddler</h2>
            <h7>------your friendly neighborhood twitter knock-off*</h7>
    </header>
      <div id="twiddleTitle">
                <h4 style="display:inline">Twiddler</h4>
            <h5 style="margin-left:0px">Stream:</h5>
      </div>
    <section onclick="userSelect(null)">
        <div id="stream">
        </div>
    </section>
    <aside>
        <h8>Wanna Twiddle?</h8>
        <div class="signInEntry">
            <textarea>Enter your tWiDdLe HaNdLe:</textarea>
            <button>Sign In</button>
        </div>
        <div class="twiddleEntry">
            <textarea>What's on your mind?!?!?</textarea>
            <button style="float:bottom">Twiddle away, buddy!</button>
        </div>    
    </aside>    
    <footer>
        <div id="footer">
        <h6>by: Jeff Day Â©</h6>
      </div>  
    
    </footer>
    
    

    <script> 
        //buttons  do not have functionality :(
        
        $(document).ready(function(){ 
                tweetRun(); //run tweets every 5000 miliseconds -- will function as self-updating
                setInterval(tweetRun, 5000);
        });
        
        
//        
        function userSelect(user) {
            var userNameSelect = user;
            tweetRun();
        }
        
        
        function tweetRun () {
            var $stream = $('#stream');
            $stream.html('');
            var index = streams.home.length - 1;
//
//            if (userName) {
//                index = streams.users[userName].length-1;
//            }
//            
            
            while(index >= 0){
                var tweet = streams.home[index];
                var $tweet = $('<div></div>');
                $tweet.addClass('tweet');
                $tweet.text(tweet.message);
                
                var $userName = $('<div></div>');
                $userName.addClass('userName');
                $userName.text('@' + tweet.user).css("float","left");
            
                var $date = $('<div></div>');
                $date.addClass('date');
                $date.text('Twiddle created at Date: ' + (tweet.created_at.getMonth() + 1) + '-' + 
                       (tweet.created_at.getDate()) + '-' + 
                       (tweet.created_at.getFullYear()) + ' // Time: ' + (tweet.created_at.getHours()) + ':' + (tweet.created_at.getMinutes()));
            
            $tweet.appendTo($stream);
            $userName.prependTo($tweet);
            $date.appendTo($tweet);
            index -= 1;    
            }
        }
         
    </script>
  </body>
    
</html>


